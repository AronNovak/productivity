<?php
/**
 * @file
<<<<<<< HEAD
 * Code for the restful feature.
=======
 * Code for the RESTful integration.
>>>>>>> origin/hedley
 */

if (!drupal_is_cli()) {
  header('Access-Control-Allow-Origin: *');
  header('Access-Control-Allow-Credentials: true');
  header('Access-Control-Allow-Headers: Authorization, access-token');
}

/**
 * Implements hook_ctools_plugin_directory().
 */
function productivity_restful_ctools_plugin_directory($module, $plugin) {
  if ($module == 'restful') {
    return 'plugins/' . $plugin;
  }
}

/**
 * Implements hook_entity_property_info_alter().
 *
 * Allow non-administrators to set status of nodes.
 */
function productivity_restful_entity_property_info_alter(&$info) {
  if (!empty($info['node']['properties']['status']['setter permission'])) {
    unset($info['node']['properties']['status']['setter permission']);
  }
}

